import{_ as v,o as u,c as f,m as D,a as y,b as x,r as P,d as t,w as n,F as b,e as l,f as m}from"./index-CEEn8P2q.js";const A={data(){return{objectOfAttrs:{width:"100%",height:"92%",frameborder:0}}}};function E(_,o,s,d,a,c){return u(),f("iframe",D({scrolling:"no",src:"/editor.html"},a.objectOfAttrs),null,16)}const h=v(A,[["render",E]]),k={__name:"index",setup(_){let o;const s=e=>{e.data.type==="custom-message"&&(a.value.parentProps.emrDataDoc=e.data.data.emrDataDoc)};y(()=>{window.parent.postMessage({type:"childStatus",data:"isReady"},"*"),window.addEventListener("message",s)}),x(()=>{window.removeEventListener("message",s)});const d=e=>{o=e.target.contentWindow.editor,setTimeout(()=>{a.value.parentProps.emrDataDoc&&o.loadHtml(a.value.parentProps.emrDataDoc)},0)},a=P({serverUrl:"http://192.168.110.66:50379/HIEP-PDMAdmin/editTest/api/save",parentProps:{emrDataDoc:""}});function c(){}function g(){let e={doc:o.getHtml(),data:o.getBindObject()};window.parent.postMessage(e,"*")}return(e,r)=>{const i=l("el-button"),p=l("el-col"),w=l("el-row");return u(),f(b,null,[t(w,null,{default:n(()=>[t(p,{span:2,style:{"margin-left":"80vw"}},{default:n(()=>[t(i,{type:"primary",onClick:g},{default:n(()=>r[0]||(r[0]=[m("保存")])),_:1})]),_:1}),t(p,{span:2},{default:n(()=>[t(i,{plain:"",type:"primary",onClick:c},{default:n(()=>r[1]||(r[1]=[m("保存并导出")])),_:1})]),_:1})]),_:1}),t(h,{mode:"form",style:{margin:"10px 0"},onLoad:d})],64)}}};export{k as default};
